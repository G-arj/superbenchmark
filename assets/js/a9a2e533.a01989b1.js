(self.webpackChunksuperbench_website=self.webpackChunksuperbench_website||[]).push([[790],{3839:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return d},contentTitle:function(){return p},metadata:function(){return o},toc:function(){return m},default:function(){return s}});var a=n(2122),l=n(9756),r=(n(7294),n(3905)),i=["components"],d={id:"cli"},p="CLI",o={unversionedId:"cli",id:"cli",isDocsHomePage:!1,title:"CLI",description:"SuperBench provides a command line interface to help you use, deploy and run benchmarks.",source:"@site/../docs/cli.md",sourceDirName:".",slug:"/cli",permalink:"/superbenchmark/docs/cli",editUrl:"https://github.com/microsoft/superbenchmark/edit/main/website/../docs/cli.md",version:"current",frontMatter:{id:"cli"},sidebar:"api"},m=[{value:"SuperBench CLI commands",id:"superbench-cli-commands",children:[{value:"<code>sb deploy</code>",id:"sb-deploy",children:[]},{value:"<code>sb exec</code>",id:"sb-exec",children:[]},{value:"<code>sb run</code>",id:"sb-run",children:[]},{value:"<code>sb version</code>",id:"sb-version",children:[]}]}],k={toc:m};function s(e){var t=e.components,n=(0,l.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},k,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"cli"},"CLI"),(0,r.kt)("p",null,"SuperBench provides a command line interface to help you use, deploy and run benchmarks."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ sb\n\n   _____                       ____                  _\n  / ____|                     |  _ \\                | |\n | (___  _   _ _ __   ___ _ __| |_) | ___ _ __   ___| |__\n  \\___ \\| | | | '_ \\ / _ \\ '__|  _ < / _ \\ '_ \\ / __| '_ \\\n  ____) | |_| | |_) |  __/ |  | |_) |  __/ | | | (__| | | |\n |_____/ \\__,_| .__/ \\___|_|  |____/ \\___|_| |_|\\___|_| |_|\n              | |\n              |_|\n\nWelcome to the SB CLI!\n")),(0,r.kt)("h2",{id:"superbench-cli-commands"},"SuperBench CLI commands"),(0,r.kt)("p",null,"The following lists ",(0,r.kt)("inlineCode",{parentName:"p"},"sb")," commands usages and examples:"),(0,r.kt)("h3",{id:"sb-deploy"},(0,r.kt)("inlineCode",{parentName:"h3"},"sb deploy")),(0,r.kt)("p",null,"Deploy the SuperBench environments to all managed nodes."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="SB CLI"',title:'"SB','CLI"':!0},"sb deploy [--docker-image]\n          [--docker-password]\n          [--docker-username]\n          [--host-file]\n          [--host-list]\n          [--host-password]\n          [--host-username]\n          [--private-key]\n")),(0,r.kt)("h4",{id:"optional-arguments"},"Optional arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--docker-image")," ",(0,r.kt)("inlineCode",{parentName:"td"},"-i")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"superbench/superbench")),(0,r.kt)("td",{parentName:"tr",align:null},"Docker image URI.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--docker-password")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Docker registry password if authentication is needed.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--docker-username")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Docker registry username if authentication is needed.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--host-file")," ",(0,r.kt)("inlineCode",{parentName:"td"},"-f")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Path to Ansible inventory host file.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--host-list")," ",(0,r.kt)("inlineCode",{parentName:"td"},"-l")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Comma separated host list.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--host-password")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Host password or key passphase if needed.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--host-username")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Host username if needed.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--private-key")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Path to private key if needed.")))),(0,r.kt)("h4",{id:"global-arguments"},"Global arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--help")," ",(0,r.kt)("inlineCode",{parentName:"td"},"-h")),(0,r.kt)("td",{parentName:"tr",align:null},"N/A"),(0,r.kt)("td",{parentName:"tr",align:null},"Show help message.")))),(0,r.kt)("h4",{id:"examples"},"Examples"),(0,r.kt)("p",null,"Deploy image ",(0,r.kt)("inlineCode",{parentName:"p"},"superbench/cuda:11.1")," to all nodes in ",(0,r.kt)("inlineCode",{parentName:"p"},"./host.yaml"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="SB CLI"',title:'"SB','CLI"':!0},"sb deploy --docker-image superbench/cuda:11.1 --host-file ./host.yaml\n")),(0,r.kt)("h3",{id:"sb-exec"},(0,r.kt)("inlineCode",{parentName:"h3"},"sb exec")),(0,r.kt)("p",null,"Execute the SuperBench benchmarks locally."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="SB CLI"',title:'"SB','CLI"':!0},"sb exec [--config-file]\n        [--config-override]\n")),(0,r.kt)("h4",{id:"optional-arguments-1"},"Optional arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--config-file")," ",(0,r.kt)("inlineCode",{parentName:"td"},"-c")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Path to SuperBench config file.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--config-override")," ",(0,r.kt)("inlineCode",{parentName:"td"},"-C")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Extra arguments to override config_file.")))),(0,r.kt)("h4",{id:"global-arguments-1"},"Global arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--help")," ",(0,r.kt)("inlineCode",{parentName:"td"},"-h")),(0,r.kt)("td",{parentName:"tr",align:null},"N/A"),(0,r.kt)("td",{parentName:"tr",align:null},"Show help message.")))),(0,r.kt)("h4",{id:"examples-1"},"Examples"),(0,r.kt)("p",null,"Execute GPT2 model benchmark in default configuration:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="SB CLI"',title:'"SB','CLI"':!0},"sb exec --config-override superbench.enable=\"['gpt2_models']\"\n")),(0,r.kt)("h3",{id:"sb-run"},(0,r.kt)("inlineCode",{parentName:"h3"},"sb run")),(0,r.kt)("p",null,"Run the SuperBench benchmarks distributedly."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="SB CLI"',title:'"SB','CLI"':!0},"sb run [--config-file]\n       [--config-override]\n       [--docker-image]\n       [--docker-password]\n       [--docker-username]\n       [--host-file]\n       [--host-list]\n       [--host-password]\n       [--host-username]\n       [--private-key]\n")),(0,r.kt)("h4",{id:"optional-arguments-2"},"Optional arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--config-file")," ",(0,r.kt)("inlineCode",{parentName:"td"},"-c")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Path to SuperBench config file.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--config-override")," ",(0,r.kt)("inlineCode",{parentName:"td"},"-C")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Extra arguments to override config_file.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--docker-image")," ",(0,r.kt)("inlineCode",{parentName:"td"},"-i")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"superbench/superbench")),(0,r.kt)("td",{parentName:"tr",align:null},"Docker image URI.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--docker-password")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Docker registry password if authentication is needed.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--docker-username")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Docker registry username if authentication is needed.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--host-file")," ",(0,r.kt)("inlineCode",{parentName:"td"},"-f")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Path to Ansible inventory host file.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--host-list")," ",(0,r.kt)("inlineCode",{parentName:"td"},"-l")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Comma separated host list.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--host-password")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Host password or key passphase if needed.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--host-username")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Host username if needed.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--private-key")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"None")),(0,r.kt)("td",{parentName:"tr",align:null},"Path to private key if needed.")))),(0,r.kt)("h4",{id:"global-arguments-2"},"Global arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--help")," ",(0,r.kt)("inlineCode",{parentName:"td"},"-h")),(0,r.kt)("td",{parentName:"tr",align:null},"N/A"),(0,r.kt)("td",{parentName:"tr",align:null},"Show help message.")))),(0,r.kt)("h4",{id:"examples-2"},"Examples"),(0,r.kt)("p",null,"Run all benchmarks on all managed nodes in ",(0,r.kt)("inlineCode",{parentName:"p"},"./host.yaml")," using image ",(0,r.kt)("inlineCode",{parentName:"p"},"superbench/cuda:11.1"),"\nand default benchmarking configuration:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="SB CLI"',title:'"SB','CLI"':!0},"sb run --docker-image superbench/cuda:11.1 --host-file ./host.yaml\n")),(0,r.kt)("h3",{id:"sb-version"},(0,r.kt)("inlineCode",{parentName:"h3"},"sb version")),(0,r.kt)("p",null,"Print the current SuperBench CLI version."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="SB CLI"',title:'"SB','CLI"':!0},"sb version\n")),(0,r.kt)("h4",{id:"global-arguments-3"},"Global arguments"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"--help")," ",(0,r.kt)("inlineCode",{parentName:"td"},"-h")),(0,r.kt)("td",{parentName:"tr",align:null},"N/A"),(0,r.kt)("td",{parentName:"tr",align:null},"Show help message.")))),(0,r.kt)("h4",{id:"examples-3"},"Examples"),(0,r.kt)("p",null,"Print version:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="SB CLI"',title:'"SB','CLI"':!0},"sb version\n")))}s.isMDXComponent=!0}}]);